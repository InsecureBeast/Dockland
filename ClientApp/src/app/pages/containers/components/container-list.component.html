<p *ngIf="!containers"><em>Loading...</em></p>
<div class="card">
  <table class='table table-hover mb-0' *ngIf="containers">
    <thead class="table-light">
      <tr>
        <th>Name</th>
        <th style="width: 80px;">State</th>
        <th>Port</th>
        <th>Image</th>
        <th class="d-none d-lg-block">Created</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let container of containers">
        <td class="text-truncate">{{ container.names[0] | slice:1 }}</td>
        <td>
          <ng-container *ngTemplateOutlet="stateTemplate;context:{cState:container.state}"></ng-container>
        </td>
        <td class="text-truncate"><a [href]="getUrl(container.ports)" target="_blank">{{getUrl(container.ports)}}</a></td>
        <td class="text-truncate">{{ container.image }} </td>
        <td class="text-truncate d-none d-lg-block">{{ container.created | date:'medium' }} </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #stateTemplate let-state="cState">
  <ng-container *ngIf="state === 'running'">
    <span class="badge bg-success">{{state}}</span>
  </ng-container>
  <ng-container *ngIf="state === 'exited'">
    <span class="badge bg-danger">{{state}}</span>
  </ng-container>
  <ng-container *ngIf="state === 'paused'">
    <span class="badge bg-secondary">{{state}}</span>
  </ng-container>
</ng-template>
